<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Movie Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
</head>

<body>
    <div id="menu"></div>
    <div class="container">
        <div class="row mt-4">
            <div class="col-12  col-md-5 "><img id="card-img" class="img-fluid rounded">
            </div>
            <div class="col-12  col-md-7">
                <div class="row">
                    <div class="col-12">
                        <h2 id="card-title"></h2>
                        <p id="card-date"></p>
                    </div>"Missing Name");
      return;
   }
   if (user.nickname == undefined) {
      res.status(400).send("Missing Nickname");
      return;
   }
   if (user.email == undefined) {
      res.status(400).send("Missing Email");
      return;
   }
   if (user.password == undefined || user.password.length < 3) {
      res.status(400).send("Password is missing or too short");
      return;
   }

   user.password = hash(user.password);
   console.log(user.password);

   try {
      var userCollection = await dbUserCollection();

      // Check if email or nickname already exist in the database
      const existingUser = await userCollection.findOne({
         $or: [{ email: user.email }, { nickname: user.nickname }],
      });

      if (existingUser) {
         res.status(400).send(
            "User with the same email or nickname already exists!",

                        <a href="#" class="btn btn-secondary">Scheda</a>
                    </div>

                </div>
            </div>


        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <script src="menu.js"></script>
    <script src="lib.js"></script>
    <script>
        var id = new URLSearchParams(window.location.search).get('id_attore')


    </script>
</body>

</html>
